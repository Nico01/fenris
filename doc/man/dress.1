.TH dress 1
.SH NAME
dress \- ELF symtab recovery
.SH SYNOPSIS
.B dress
.I [ -F file ] [ -S seg ] old_elf [ new_elf ]
.br
.SH "DESCRIPTION"
This is an ELF symtab recovery tool, a part of
.BR fenris (1),
a program execution path analysis tool. It has two modes. With only
one parameter, it will load a stripped static binary, 
.BR old-elf ,
and will try to identify all library functions linked into this
application. This is done by deploying the fingerprint database generated by
.BR fprints (1)
or
.BR getfprints (1)
utility - typically, the one provided with
.BR fenris (1)
distribution. Generated output will consist of address and function name 
pairs that can be used for further manual debugging.

Second mode is entered when the program is called with two parameters.
In this mode, identified functions will not be displayed, but used to
reconstruct symbol table entries in the code instead. As a result,
.BR new-elf
binary is being created. This binary contains symbols and can be loaded
directly into
.BR gdb (1)
or 
.BR objdump (1).

.SH COMMAND-LINE OPTIONS

Mandatory parameter is the old ELF binary filename, eventually followed
by the output ELF name. Input binary has to be a native, stripped, static
ELF file. You can use the following optional parameters:

\fB-F file\fR

This option will load a non-default fingerprint suplementary fingerprint
database. This option can be used multiple times. Its behavior is
similar to
.BR -L
option in
.BR fenris .

\fB-S segname\fR

Perform analysis of a segment different than .text. This is useful for
non-standard ELF binaries.

.SH FILES
.BI ./fnprints.dat ,
.BI ~/.fenris/fnprints.dat ,
.BI /etc/fnprints.dat ,
.BI ~/fnprints.dat ,

default fingerprints database locations (in search order)

.SH SEE ALSO
.BR aegir (1),
.BR nc-aegir (1),

.BR fenris (1),
.BR ragnarok (1),
.BR fprints (1),
.BR getfprints (1),
.BR fenris-bug (1),
.BR ragsplit (1),
.BR strace (1),
.BR ltrace (1),
.BR gdb (1),
.BR objdump (1),
.BR ptrace (2),
.BR fnprints.dat (5).

.SH AUTHOR
.B dress
was written by Michal Zalewski <lcamtuf@coredump.cx>.

